(this.webpackJsonpq5=this.webpackJsonpq5||[]).push([[0],{25:function(t,e,a){t.exports=a(44)},31:function(t,e,a){},44:function(t,e,a){"use strict";a.r(e);a(26);var n=a(1),l=a.n(n),o=a(12),r=a.n(o),i=(a(31),a(14)),c=a(8),s=a(9),m=a(11),u=a(10),h=a(53),d=a(54),p=a(55),f=a(49),E=a(56),b=a(50),g=a(51),y=a(23),v=a(45),S=a(46),C=a(47),j=a(48),O=function(t){Object(m.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(t=e.call.apply(e,[this].concat(l))).state={id:0,first:"",last:"",email:"",phone:"",location:"",hobby:""},t.onChange=function(e){t.setState(Object(y.a)({},e.target.name,e.target.value))},t.submitFormAdd=function(e){e.preventDefault(),fetch("http://localhost:3000/crud",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({first:t.state.first,last:t.state.last,email:t.state.email,phone:t.state.phone,location:t.state.location,hobby:t.state.hobby})}).then((function(t){return t.json()})).then((function(e){Array.isArray(e)?(t.props.addItemToState(e[0]),t.props.toggle()):console.log("failure")})).catch((function(t){return console.log(t)}))},t.submitFormEdit=function(e){e.preventDefault(),fetch("http://localhost:3000/crud",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t.state.id,first:t.state.first,last:t.state.last,email:t.state.email,phone:t.state.phone,location:t.state.location,hobby:t.state.hobby})}).then((function(t){return t.json()})).then((function(e){Array.isArray(e)?(t.props.updateState(e[0]),t.props.toggle()):console.log("failure")})).catch((function(t){return console.log(t)}))},t}return Object(s.a)(a,[{key:"componentDidMount",value:function(){if(this.props.item){var t=this.props.item,e=t.id,a=t.first,n=t.last,l=t.email,o=t.phone,r=t.location,i=t.hobby;this.setState({id:e,first:a,last:n,email:l,phone:o,location:r,hobby:i})}}},{key:"render",value:function(){return l.a.createElement(v.a,{onSubmit:this.props.item?this.submitFormEdit:this.submitFormAdd},l.a.createElement(S.a,null,l.a.createElement(C.a,{for:"first"},"First Name"),l.a.createElement(j.a,{type:"text",name:"first",id:"first",onChange:this.onChange,value:null===this.state.first?"":this.state.first})),l.a.createElement(S.a,null,l.a.createElement(C.a,{for:"last"},"Last Name"),l.a.createElement(j.a,{type:"text",name:"last",id:"last",onChange:this.onChange,value:null===this.state.last?"":this.state.last})),l.a.createElement(S.a,null,l.a.createElement(C.a,{for:"email"},"Email"),l.a.createElement(j.a,{type:"email",name:"email",id:"email",onChange:this.onChange,value:null===this.state.email?"":this.state.email})),l.a.createElement(S.a,null,l.a.createElement(C.a,{for:"phone"},"Phone"),l.a.createElement(j.a,{type:"text",name:"phone",id:"phone",onChange:this.onChange,value:null===this.state.phone?"":this.state.phone,placeholder:"ex. 555-555-5555"})),l.a.createElement(S.a,null,l.a.createElement(C.a,{for:"location"},"Location"),l.a.createElement(j.a,{type:"text",name:"location",id:"location",onChange:this.onChange,value:null===this.state.location?"":this.state.location,placeholder:"City, State"})),l.a.createElement(S.a,null,l.a.createElement(C.a,{for:"hobby"},"Hobby"),l.a.createElement(j.a,{type:"text",name:"hobby",id:"hobby",onChange:this.onChange,value:this.state.hobby})),l.a.createElement(f.a,null,"Submit"))}}]),a}(l.a.Component),I=function(t){Object(m.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(c.a)(this,a),(n=e.call(this,t)).toggle=function(){n.setState((function(t){return{modal:!t.modal}}))},n.state={modal:!1},n}return Object(s.a)(a,[{key:"render",value:function(){var t=l.a.createElement("button",{className:"close",onClick:this.toggle},"\xd7"),e=this.props.buttonLabel,a="",n="";return"Edit"===e?(a=l.a.createElement(f.a,{color:"warning",onClick:this.toggle,style:{float:"left",marginRight:"10px"}},e),n="Edit Item"):(a=l.a.createElement(f.a,{color:"success",onClick:this.toggle,style:{float:"left",marginRight:"10px"}},e),n="Add New Item"),l.a.createElement("div",null,a,l.a.createElement(E.a,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className},l.a.createElement(b.a,{toggle:this.toggle,close:t},n),l.a.createElement(g.a,null,l.a.createElement(O,{addItemToState:this.props.addItemToState,updateState:this.props.updateState,toggle:this.toggle,item:this.props.item}))))}}]),a}(n.Component),w=a(52),k=function(t){Object(m.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(t=e.call.apply(e,[this].concat(l))).deleteItem=function(e){window.confirm("Delete item forever?")&&fetch("http://localhost:3000/crud",{method:"delete",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})}).then((function(t){return t.json()})).then((function(a){t.props.deleteItemFromState(e)})).catch((function(t){return console.log(t)}))},t}return Object(s.a)(a,[{key:"render",value:function(){var t=this,e=this.props.items.map((function(e){return l.a.createElement("tr",{key:e.id},l.a.createElement("th",{scope:"row"},e.id),l.a.createElement("td",null,e.first),l.a.createElement("td",null,e.last),l.a.createElement("td",null,e.email),l.a.createElement("td",null,e.phone),l.a.createElement("td",null,e.location),l.a.createElement("td",null,e.hobby),l.a.createElement("td",null,l.a.createElement("div",{style:{width:"110px"}},l.a.createElement(I,{buttonLabel:"Edit",item:e,updateState:t.props.updateState})," ",l.a.createElement(f.a,{color:"danger",onClick:function(){return t.deleteItem(e.id)}},"Del"))))}));return l.a.createElement(w.a,{responsive:!0,hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"ID"),l.a.createElement("th",null,"First"),l.a.createElement("th",null,"Last"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"Phone"),l.a.createElement("th",null,"Location"),l.a.createElement("th",null,"Hobby"),l.a.createElement("th",null,"Actions"))),l.a.createElement("tbody",null,e))}}]),a}(n.Component),x=a(24),A=function(t){Object(m.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(t=e.call.apply(e,[this].concat(l))).state={items:[]},t.addItemToState=function(e){t.setState((function(t){return{items:[].concat(Object(i.a)(t.items),[e])}}))},t.updateState=function(e){var a=t.state.items.findIndex((function(t){return t.id===e.id})),n=[].concat(Object(i.a)(t.state.items.slice(0,a)),[e],Object(i.a)(t.state.items.slice(a+1)));t.setState({items:n})},t.deleteItemFromState=function(e){var a=t.state.items.filter((function(t){return t.id!==e}));t.setState({items:a})},t}return Object(s.a)(a,[{key:"getItems",value:function(){var t=this;fetch("http://localhost:3000/crud").then((function(t){return t.json()})).then((function(e){return t.setState({items:e})})).catch((function(t){return console.log(t)}))}},{key:"componentDidMount",value:function(){this.getItems()}},{key:"render",value:function(){return l.a.createElement(h.a,{className:"App"},l.a.createElement(d.a,null,l.a.createElement(p.a,null,l.a.createElement("h1",{style:{margin:"20px 0"}},"CRUD Database"))),l.a.createElement(d.a,null,l.a.createElement(p.a,null,l.a.createElement(k,{items:this.state.items,updateState:this.updateState,deleteItemFromState:this.deleteItemFromState}))),l.a.createElement(d.a,null,l.a.createElement(p.a,null,l.a.createElement(x.CSVLink,{filename:"db.csv",color:"primary",style:{float:"left",marginRight:"10px"},className:"btn btn-primary",data:this.state.items},"Download CSV"),l.a.createElement(I,{buttonLabel:"Add Item",addItemToState:this.addItemToState}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.f6e2fb78.chunk.js.map